-- Definicion de tablas generado a partir del MR en Erwin

CREATE TABLE CLIENTE(
	NOMBRE_CLIENTE        CHARACTER(20) NOT NULL ,
	CIUDAD                CHARACTER(10) NOT NULL ,
	CALLE                 CHARACTER(20) NOT NULL 
);

ALTER TABLE CLIENTE ADD CONSTRAINT PK_CLIENTE PRIMARY KEY (NOMBRE_CLIENTE);


CREATE TABLE CUENTA(
	NUM_CTA               NUMERIC(15) NOT NULL ,
	NOMBRE_SUCURSAL       CHARACTER(20) NOT NULL ,
	SALDO                 NUMERIC(10) NOT NULL 
);

ALTER TABLE CUENTA ADD CONSTRAINT PK_CUENTA PRIMARY KEY (NUM_CTA);
ALTER TABLE CUENTA ADD CONSTRAINT FK_CUENTA_SUCURSAL 
FOREIGN KEY (NOMBRE_SUCURSAL) REFERENCES SUCURSAL(NOMBRE_SUCURSAL);

CREATE TABLE CTA_CLIENTE(
	NUM_CTA               NUMERIC(15) NOT NULL ,
	NOMBRE_CLIENTE        CHARACTER(20) NOT NULL 
);

ALTER TABLE CTA_CLIENTE ADD CONSTRAINT FK_CTA_CLIENTE_CUENTA 
FOREIGN KEY (NUM_CTA) REFERENCES CUENTA(NUM_CTA);
ALTER TABLE CTA_CLIENTE ADD CONSTRAINT FK_CTA_CLIENTE_CLIENTE 
FOREIGN KEY (NOMBRE_CLIENTE) REFERENCES CLIENTE(NOMBRE_CLIENTE);
ALTER TABLE CTA_CLIENTE ADD CONSTRAINT PK_CTA_CLIENTE PRIMARY KEY (NUM_CTA, NOMBRE_CLIENTE);


CREATE TABLE SUCURSAL(
	NOMBRE_SUCURSAL       CHARACTER(20) NOT NULL ,
	CIUDAD                CHARACTER(20) NOT NULL ,
	ACTIVOS               NUMERIC(5) NOT NULL 
);

ALTER TABLE SUCURSAL ADD CONSTRAINT PK_SUCURSAL PRIMARY KEY (NOMBRE_SUCURSAL);

CREATE TABLE PRESTAMO(
	NUM_PRESTAMO          NUMERIC(5) NOT NULL ,
	IMPORTE               NUMERIC(10) NOT NULL,
	NOMBRE_SUCURSAL       CHARACTER(20) NOT NULL 
);

ALTER TABLE PRESTAMO ADD CONSTRAINT PK_PRESTAMO PRIMARY KEY (NUM_PRESTAMO);
ALTER TABLE PRESTAMO ADD CONSTRAINT FK_PRESTAMO_SUCURSAL 
FOREIGN KEY (NOMBRE_SUCURSAL) REFERENCES SUCURSAL(NOMBRE_SUCURSAL);

CREATE TABLE PRESTATARIO(
	NUM_PRESTAMO          NUMERIC(5) NOT NULL ,
	NOMBRE_CLIENTE        CHARACTER(20) NOT NULL 
);

ALTER TABLE PRESTATARIO ADD CONSTRAINT FK_PRESTATARIO_PRESTAMO 
FOREIGN KEY (NUM_PRESTAMO) REFERENCES PRESTAMO(NUM_PRESTAMO);
ALTER TABLE PRESTATARIO ADD CONSTRAINT FK_PRESTATARIO_CLIENTE 
FOREIGN KEY (NOMBRE_CLIENTE) REFERENCES CLIENTE(NOMBRE_CLIENTE);
ALTER TABLE PRESTATARIO ADD CONSTRAINT PK_PRESTATARIO PRIMARY KEY (NUM_PRESTAMO,NOMBRE_CLIENTE);

-- Insercion de registros

INSERT INTO SUCURSAL VALUES ('LUNA','JUAREZ',120);
INSERT INTO SUCURSAL VALUES ('SOL','CDMX',200);
INSERT INTO SUCURSAL VALUES ('COLMENA',	'GUERRERO',500);
INSERT INTO SUCURSAL VALUES ('MANZANA',	'CUERNAVACA', 60);
INSERT INTO SUCURSAL VALUES ('COLIBRI',	'GUANAJUATO', 78);
INSERT INTO SUCURSAL VALUES ('BERENJENA','MONTERREY',100);
INSERT INTO SUCURSAL VALUES ('COPILCO','COPILCO', 180);


INSERT INTO CLIENTE VALUES ('JUAN TORRES','GUANAJUATO', 'CALLE ENCINOS');
INSERT INTO CLIENTE VALUES ('MARIO TORRES','MONTERREY', 'CALLE ROSAS');	
INSERT INTO CLIENTE VALUES ('JUAN LOPEZ','COPILCO', 'CALLE MORA');
INSERT INTO CLIENTE VALUES ('MARIA LUNA','GUANAJUATO', 'CALLE ENCINOS');
INSERT INTO CLIENTE VALUES ('DIEGO RIVERA','CUERNAVACA', 'CALLE ROBLE');
INSERT INTO CLIENTE VALUES ('PEDRO DIAZ','MONTERREY', 'CALLE VID');
INSERT INTO CLIENTE VALUES ('DANIEL VARGAS','COPILCO', 'CALLE OLMOS');
INSERT INTO CLIENTE VALUES ('JAVIER LUNA','JUAREZ', 'CALLE HELECHO');
INSERT INTO CLIENTE VALUES ('ERIK SMITH','GUERRERO', 'CALLE CLAVEL');
INSERT INTO CLIENTE VALUES ('KASSANDRA CRUZ','MONTERREY', 'CALLE CAMPANILLA');
INSERT INTO CLIENTE VALUES ('DIANA JIMENEZ','CUERNAVACA', 'CALLE MAGUEY');
INSERT INTO CLIENTE VALUES ('DIEGO SILVA','CDMX', 'CALLE LIRIO');
INSERT INTO CLIENTE VALUES ('GERARDO CRUZ','MONTERREY', 'CALLE MANZANO');
INSERT INTO CLIENTE VALUES ('ERICK DIAZ','COPILCO', 'CALLE TEPOZAN');
INSERT INTO CLIENTE VALUES ('SAUL HERNANDEZ','GUERRERO', 'CALLE PINO');	
INSERT INTO CLIENTE VALUES ('SILVIA LOPEZ','CDMX', 'CALLE DURAZNO');
INSERT INTO CLIENTE VALUES ('MATIAS VARGAS','GUANAJUATO', 'CALLE TREBOL');
INSERT INTO CLIENTE VALUES ('EDITH TORRES','GUERRERO', 'CALLE LIMON');
INSERT INTO CLIENTE VALUES ('ANA JIMENEZ','COPILCO', 'CALLE CIRUELO');
INSERT INTO CLIENTE VALUES ('RAUL RIVERA','CDMX', 'CALLE OLIVO');


INSERT INTO PRESTAMO VALUES (101,1000,'COLMENA');
INSERT INTO PRESTAMO VALUES (102,10000,'COLIBRI');
INSERT INTO PRESTAMO VALUES (107,5000,'SOL');
INSERT INTO PRESTAMO VALUES (109,2500,'COLIBRI');
INSERT INTO PRESTAMO VALUES (111,70000,'COPILCO');
INSERT INTO PRESTAMO VALUES (120,100000,'SOL');
INSERT INTO PRESTAMO VALUES (123,4500,'COPILCO');
INSERT INTO PRESTAMO VALUES (128,3000,'COLMENA');
INSERT INTO PRESTAMO VALUES (129,500000,'LUNA');
INSERT INTO PRESTAMO VALUES (140,100000,'COLMENA');
INSERT INTO PRESTAMO VALUES (143,20000,'LUNA');
INSERT INTO PRESTAMO VALUES (145,1000,'BERENJENA');
INSERT INTO PRESTAMO VALUES (146,40000,'COPILCO');


INSERT INTO PRESTATARIO VALUES (101,'JUAN TORRES');
INSERT INTO PRESTATARIO VALUES (102,'JUAN LOPEZ');
INSERT INTO PRESTATARIO VALUES (107,'DIEGO RIVERA');
INSERT INTO PRESTATARIO VALUES (109,'DANIEL VARGAS');
INSERT INTO PRESTATARIO VALUES (111,'JAVIER LUNA');
INSERT INTO PRESTATARIO VALUES (120,'KASSANDRA CRUZ');
INSERT INTO PRESTATARIO VALUES (123,'DIANA JIMENEZ');
INSERT INTO PRESTATARIO VALUES (128,'DIEGO SILVA');
INSERT INTO PRESTATARIO VALUES (129,'GERARDO CRUZ');
INSERT INTO PRESTATARIO VALUES (140,'SAUL HERNANDEZ');
INSERT INTO PRESTATARIO VALUES (143,'SILVIA LOPEZ');
INSERT INTO PRESTATARIO VALUES (145,'ANA JIMENEZ');
INSERT INTO PRESTATARIO VALUES (146,'JUAN LOPEZ');
INSERT INTO PRESTATARIO VALUES (140,'DIEGO RIVERA');


INSERT INTO CUENTA VALUES (124593,12000,'COPILCO');
INSERT INTO CUENTA VALUES (113459,120000,'COLMENA');
INSERT INTO CUENTA VALUES (569087,10000,'LUNA');
INSERT INTO CUENTA VALUES (123465,12500,'SOL');
INSERT INTO CUENTA VALUES (134790,60000,'COPILCO');
INSERT INTO CUENTA VALUES (923456,0,'COLIBRI');
INSERT INTO CUENTA VALUES (123245,7000,'BERENJENA');
INSERT INTO CUENTA VALUES (167898,50000,'COLMENA');
INSERT INTO CUENTA VALUES (675839,10000,'BERENJENA');
INSERT INTO CUENTA VALUES (233498,1000,'COPILCO');
INSERT INTO CUENTA VALUES (657589,300000,'LUNA');


INSERT INTO CTA_CLIENTE VALUES (124593,'JUAN TORRES');
INSERT INTO CTA_CLIENTE VALUES (113459,'MARIO TORRES');
INSERT INTO CTA_CLIENTE VALUES (569087,'JUAN LOPEZ');
INSERT INTO CTA_CLIENTE VALUES (123465,'MARIA LUNA');
INSERT INTO CTA_CLIENTE VALUES (134790,'JAVIER LUNA');
INSERT INTO CTA_CLIENTE VALUES (923456,'ERIK SMITH');
INSERT INTO CTA_CLIENTE VALUES (123245,'DIEGO SILVA');
INSERT INTO CTA_CLIENTE VALUES (167898,'GERARDO CRUZ');
INSERT INTO CTA_CLIENTE VALUES (675839,'SILVIA LOPEZ');
INSERT INTO CTA_CLIENTE VALUES (233498,'RAUL RIVERA');
INSERT INTO CTA_CLIENTE VALUES (657589,'MARIO TORRES');





